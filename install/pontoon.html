<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pontoon &mdash; Pontoon Debian Administrator&#39;s Manual  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Automatic Synchronization (cron)" href="cron.html" />
    <link rel="prev" title="PostgreSQL" href="postgresql.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Pontoon Debian Administrator's Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../foreword.html">Foreword</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-tarball.html">Getting Pontoon</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installing Pontoon on Debian and Ubuntu</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">PostgreSQL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Pontoon</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-pontoon">Installing Pontoon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-preparation">System Preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#downloading-and-extracting-pontoon">Downloading and Extracting Pontoon</a></li>
<li class="toctree-l4"><a class="reference internal" href="#virtualenv-creation-and-activation">Virtualenv Creation and Activation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-pontoon-s-dependencies">Installing Pontoon’s Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#temporary-fix-the-media-folder">Temporary Fix: The “media” Folder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-pontoon">Configuring Pontoon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#minimal-configuration">Minimal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#git-ssh-configuration">Git SSH Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-configurations">Other Configurations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#populating-the-database">Populating the Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-initial-administrator-user">Creating the Initial Administrator User</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cron.html">Automatic Synchronization (cron)</a></li>
<li class="toctree-l2"><a class="reference internal" href="systemd.html">Startup Configuration (systemd)</a></li>
<li class="toctree-l2"><a class="reference internal" href="nginx.html">Nginx</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../backup.html">Backuping and Restoring Pontoon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration/index.html">Updating Pontoon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pontoon Debian Administrator's Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Installing Pontoon on Debian and Ubuntu</a> &raquo;</li>
      <li>Pontoon</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/install/pontoon.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pontoon">
<h1>Pontoon<a class="headerlink" href="#pontoon" title="Permalink to this heading"></a></h1>
<p>In this section we will see how to install and configure Pontoon. The main
paths and users involved in the installation are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pontoon</span></code> user: the system user that will run Pontoon.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/opt/pontoon/current</span></code>: the path where the latest Pontoon version will be
installed with all its dependencies self-contained in a <em>virtualenv</em>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/var/opt/pontoon</span></code>: the path where the Pontoon’s data will be stored
(cloned repositories, SSH keys,…)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc/opt/pontoon.env</span></code>: the path of the Pontoon’s configuration file.</p></li>
</ul>
<p>Feel free the change those paths to fit your requirements but be aware that
this manual and the sample configurations provided with it assume they are left
unchanged.</p>
<section id="installing-pontoon">
<h2>Installing Pontoon<a class="headerlink" href="#installing-pontoon" title="Permalink to this heading"></a></h2>
<section id="system-preparation">
<h3>System Preparation<a class="headerlink" href="#system-preparation" title="Permalink to this heading"></a></h3>
<p>First we have to create the <code class="docutils literal notranslate"><span class="pre">pontoon</span></code> user that will be used to run Pontoon:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">useradd</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">m</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">-</span><span class="n">d</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span> <span class="n">pontoon</span>
</pre></div>
</div>
<p>And we install some system dependencies:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span> <span class="n">install</span> <span class="n">git</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">python3</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">venv</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">server</span><span class="o">-</span><span class="n">dev</span><span class="o">-</span><span class="nb">all</span>
</pre></div>
</div>
<p>Then we create the <code class="docutils literal notranslate"><span class="pre">/opt/pontoon</span></code> folder that we will need for the
installation and go into it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span>
</pre></div>
</div>
</section>
<section id="downloading-and-extracting-pontoon">
<h3>Downloading and Extracting Pontoon<a class="headerlink" href="#downloading-and-extracting-pontoon" title="Permalink to this heading"></a></h3>
<p>Now we can download the latest version of the Pontoon Debian’s releases (you
can, of course, use your own builds here). You will find the releases on Github:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/wanadev/pontoon-debian/releases">https://github.com/wanadev/pontoon-debian/releases</a></p></li>
</ul>
<p>To download a release on the server you can use <code class="docutils literal notranslate"><span class="pre">wget</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">wanadev</span><span class="o">/</span><span class="n">pontoon</span><span class="o">-</span><span class="n">debian</span><span class="o">/</span><span class="n">releases</span><span class="o">/</span><span class="n">download</span><span class="o">/</span><span class="n">vXXXX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">X</span><span class="o">/</span><span class="n">pontoon_XXXX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>Once downloaded, we can extract the archive:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="o">-</span><span class="n">xvzf</span> <span class="n">pontoon_XXXX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">X</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
<p>This will extract a folder named <code class="docutils literal notranslate"><span class="pre">pontoon-XXXX.XX.XX.X</span></code>.</p>
<p>We will now make a symbolic link named <code class="docutils literal notranslate"><span class="pre">current</span></code> that points on it in order
to always have <code class="docutils literal notranslate"><span class="pre">/opt/pontoon/current</span></code> pointing on the latest Pontoon
version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="n">pontoon</span><span class="o">-</span><span class="n">XXXX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">XX</span><span class="o">.</span><span class="n">X</span><span class="o">/</span> <span class="n">current</span>
</pre></div>
</div>
</section>
<section id="virtualenv-creation-and-activation">
<h3>Virtualenv Creation and Activation<a class="headerlink" href="#virtualenv-creation-and-activation" title="Permalink to this heading"></a></h3>
<p>Now we will create the <em>virtualenv</em> where all Pontoon’s dependencies will be
installed.</p>
<p>First we go in the Pontoon’s installation directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">current</span>
</pre></div>
</div>
<p>Then we create the <em>virtualenv</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">venv</span> <span class="n">__env__</span>
</pre></div>
</div>
<p>Once the <em>virtualenv</em> created, we should “activate” it to use it. This can be
achieved with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="n">__env__</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>If the <em>virtualenv</em> was successfully activated, your prompt should now be
prefixed by <code class="docutils literal notranslate"><span class="pre">(__env__)</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Later in this manual, you will have to run commands with this <em>virtualenv</em>
activated. You will just have to repeat the <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/etc/pontoon/current</span> <span class="pre">&amp;&amp;</span>
<span class="pre">source</span> <span class="pre">__env__/bin/activate</span></code> commands to do achieve this.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to leave the <em>virtualenv</em>, just use the <code class="docutils literal notranslate"><span class="pre">deactivate</span></code> command.
You will be able to activate it again with the <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">/etc/pontoon/current</span> <span class="pre">&amp;&amp;</span>
<span class="pre">source</span> <span class="pre">__env__/bin/activate</span></code> commands.</p>
</div>
</section>
<section id="installing-pontoon-s-dependencies">
<h3>Installing Pontoon’s Dependencies<a class="headerlink" href="#installing-pontoon-s-dependencies" title="Permalink to this heading"></a></h3>
<p>To install the dependencies, you should run the following commands from within
the <em>virtualenv</em> (see above).</p>
<p>First we will <strong>update pip</strong>, the Python’s package manager (with an older <em>pip</em>
version, you may have to compile additional dependencies, including C++ and
Rust ones, this is not covered by this manual):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
</pre></div>
</div>
<p>Then we can install Pontoon’s dependencies with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">r</span> <span class="n">requirements</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
</section>
<section id="temporary-fix-the-media-folder">
<h3>Temporary Fix: The “media” Folder<a class="headerlink" href="#temporary-fix-the-media-folder" title="Permalink to this heading"></a></h3>
<p>Despite a configurable path for the media folder, Pontoon currently stores its
data in a <code class="docutils literal notranslate"><span class="pre">media/</span></code> folder next to its <code class="docutils literal notranslate"><span class="pre">pontoon/</span></code> folder. To avoid having
data in the <code class="docutils literal notranslate"><span class="pre">/opt</span></code> directory, we will make a symbolic link to store the data
in <code class="docutils literal notranslate"><span class="pre">/var</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">media</span>
<span class="n">chown</span> <span class="n">pontoon</span><span class="p">:</span><span class="n">pontoon</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">media</span>
<span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">media</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">media</span>
<span class="n">chown</span> <span class="n">pontoon</span><span class="p">:</span><span class="n">pontoon</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">media</span>
</pre></div>
</div>
<p>This may be fixed in the future. :)</p>
</section>
</section>
<section id="configuring-pontoon">
<h2>Configuring Pontoon<a class="headerlink" href="#configuring-pontoon" title="Permalink to this heading"></a></h2>
<p>Now that Pontoon is installed, we will configure it.</p>
<p>We made a sample configuration file that is available in the <code class="docutils literal notranslate"><span class="pre">debian/</span></code>
folder. You can copy it into the <code class="docutils literal notranslate"><span class="pre">/etc/opt</span></code> folder with the following
command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">current</span><span class="o">/</span><span class="n">debian</span><span class="o">/</span><span class="n">pontoon</span><span class="o">.</span><span class="n">env</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">opt</span>
</pre></div>
</div>
<section id="minimal-configuration">
<h3>Minimal Configuration<a class="headerlink" href="#minimal-configuration" title="Permalink to this heading"></a></h3>
<p>To allow Pontoon to run, you will have to configure at least the following
settings:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SITE_URL</span></code>: The base URL for the Pontoon installation. Please note that the
use of TLS (HTTPS) is not optional.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SITE_URL</span><span class="o">=</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pontoon</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code>: A random key that will be used to encrypt cookies. If this
key is changed, all session cookies will be invalidated.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SECRET_KEY</span><span class="o">=</span><span class="mi">2</span><span class="n">m711TDbINHAuBGEB8lCxtQXEpPkFPNWDsLGJsiWlAyf2SPQ7YQj1wRTFhILCvjq</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not copy the example key. Your key <strong>MUST REMAIN SECRET</strong>!</p>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">DATABASE_URL</span></code>: The URL containing all the information to connect to the
database. It is composed as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">postgres</span><span class="p">:</span><span class="o">//&lt;</span><span class="n">USER</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="n">PASSWORD</span><span class="o">&gt;@&lt;</span><span class="n">HOST</span><span class="o">&gt;/&lt;</span><span class="n">DATABASE</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DATABASE_URL</span><span class="o">=</span><span class="n">postgres</span><span class="p">:</span><span class="o">//</span><span class="n">pontoonuser</span><span class="p">:</span><span class="n">pontoonpassword</span><span class="nd">@localhost</span><span class="o">/</span><span class="n">pontoondb</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="git-ssh-configuration">
<h3>Git SSH Configuration<a class="headerlink" href="#git-ssh-configuration" title="Permalink to this heading"></a></h3>
<p>If you are using Git, you will have to create and configure an SSH key to allow
Pontoon to <code class="docutils literal notranslate"><span class="pre">clone</span></code> and <code class="docutils literal notranslate"><span class="pre">push</span></code> to your repositories.</p>
<p>We will proceed with the following steps:</p>
<ol class="arabic simple">
<li><p>create an SSH key for Pontoon,</p></li>
<li><p>configure Pontoon to use it,</p></li>
<li><p>create a user for Pontoon on the Git server,</p></li>
<li><p>configure its public key,</p></li>
<li><p>initiate the first connection between our server and the Git server.</p></li>
</ol>
<p>First we can create the Pontoon’s SSH key with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">su</span> <span class="n">pontoon</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;ssh-keygen -N &#39;&#39; -f ~/.ssh/id_rsa&quot;</span>
</pre></div>
</div>
<p>You should now have two files in <code class="docutils literal notranslate"><span class="pre">/var/opt/pontoon/.ssh</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id_rsa</span></code>: The private SSH key that will be used locally by Git,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">id_rsa.pub</span></code>: The public key you will have to configure on your Git server
(Gitlab, Github,…).</p></li>
</ul>
<p>To allow Git to use our newly generated key we should uncomment and configure
the <code class="docutils literal notranslate"><span class="pre">GIT_SSH_COMMAND</span></code> setting in the <code class="docutils literal notranslate"><span class="pre">/etc/opt/pontoon.env</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GIT_SSH_COMMAND</span><span class="o">=</span><span class="s2">&quot;ssh -v -i /var/opt/pontoon/.ssh/id_rsa&quot;</span>
</pre></div>
</div>
<p>Then you will have to create an user on you Git server (Gitlab, Github,…) and
to add the Pontoon’s public SSH key (<code class="docutils literal notranslate"><span class="pre">/var/opt/pontoon/.ssh/id_rsa.pub</span></code>) to
it.</p>
<p>Once the user created and the key added, you should initiate a first SSH
connection to the Git server to add it to the known hosts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">su</span> <span class="n">pontoon</span>
<span class="n">ssh</span> <span class="o">-</span><span class="n">i</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">id_rsa</span> <span class="n">git</span><span class="nd">@git</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">git&#64;git.example.org</span></code> is your Git server user and host.</p></li>
</ul>
<p>SSH should ask you if you are sure that you want to connect to this server…
Just answer by typing <code class="docutils literal notranslate"><span class="pre">yes&lt;Enter&gt;</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The authenticity of host &#39;git.example.org (XXX.XXX.XXX.XXX)&#39; can&#39;t be established.
ECDSA key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.
Are you sure you want to continue connecting (yes/no/[fingerprint])?
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If now the server is asking you for a password, that means the public key is
not well configured on the user.</p>
</div>
<p>You can now leave from the <code class="docutils literal notranslate"><span class="pre">pontoon</span></code> using the <code class="docutils literal notranslate"><span class="pre">exit</span></code> command.</p>
</section>
<section id="other-configurations">
<h3>Other Configurations<a class="headerlink" href="#other-configurations" title="Permalink to this heading"></a></h3>
<p>There are a lot of other configurations you will want to set. You will find
them all in the sample configuration file:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/wanadev/pontoon-debian/blob/master/debian/pontoon.env">https://github.com/wanadev/pontoon-debian/blob/master/debian/pontoon.env</a></p></li>
</ul>
<p>You will also find some information in Pontoon’s manual:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://mozilla-pontoon.readthedocs.io/en/latest/admin/deployment.html#environment-variables">https://mozilla-pontoon.readthedocs.io/en/latest/admin/deployment.html#environment-variables</a></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using Mercurial or SVN, please consider contributing this manual.</p>
</div>
</section>
</section>
<section id="populating-the-database">
<h2>Populating the Database<a class="headerlink" href="#populating-the-database" title="Permalink to this heading"></a></h2>
<p>We can now populate the database with Pontoon’s tables and data.</p>
<p>To populate the database, you should be in the Pontoon’s installation folder
(<code class="docutils literal notranslate"><span class="pre">/opt/pontoon/current</span></code>) and have its <em>virtualenv</em> activated. This can be
achieved with the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">/</span><span class="n">current</span> <span class="o">&amp;&amp;</span> <span class="n">source</span> <span class="n">__env__</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>You should also define the <code class="docutils literal notranslate"><span class="pre">DOTENV_PATH</span></code> environment variable with the path
to the Pontoon’s configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">DOTENV_PATH</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pontoon</span><span class="o">.</span><span class="n">env</span>
</pre></div>
</div>
<p>Once this is done, just run the following command to populate the database:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>
</pre></div>
</div>
</section>
<section id="creating-the-initial-administrator-user">
<h2>Creating the Initial Administrator User<a class="headerlink" href="#creating-the-initial-administrator-user" title="Permalink to this heading"></a></h2>
<p>Now that the database is ready, we can create the first administrator user.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should be in the Pontoon’s installation folder, with is <em>virtualenv</em>
activated, and you should have the <code class="docutils literal notranslate"><span class="pre">DOTENV_PATH</span></code> environment variable
defined like in the previous step.</p>
</div>
<p>To create the user, simply run the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">createsuperuser</span> <span class="o">--</span><span class="n">user</span><span class="o">=</span><span class="n">admin</span> <span class="o">--</span><span class="n">email</span><span class="o">=</span><span class="n">admin</span><span class="nd">@example</span><span class="o">.</span><span class="n">org</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">admin</span></code> is the name of the user,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">admin&#64;example.org</span></code> is the email of the user¹.</p></li>
</ul>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>¹ If you want to use local <code class="docutils literal notranslate"><span class="pre">django</span></code> accounts, you can put your real email
here.</p>
<p>If you plan to use an alternative authentication method (<code class="docutils literal notranslate"><span class="pre">fxa</span></code>,
<code class="docutils literal notranslate"><span class="pre">github</span></code>, <code class="docutils literal notranslate"><span class="pre">gitlab</span></code>, <code class="docutils literal notranslate"><span class="pre">google</span></code>,…) <strong>DO NOT</strong> put the email addresse of
a future user here, else he will not be able to login; you can just put
a random email addresse for this administrator account, it will never be
used anyway.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="postgresql.html" class="btn btn-neutral float-left" title="PostgreSQL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cron.html" class="btn btn-neutral float-right" title="Automatic Synchronization (cron)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Wanadev.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>